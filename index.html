<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <!-- A-Frame scene with AR.js for location-based AR -->
    <a-scene 
        vr-mode-ui="enabled: false" 
        embedded 
        arjs="sourceType: webcam; locationEnabled: true; debugUIEnabled: true;"
        id="ar-scene">
        
        <!-- The camera -->
        <a-entity camera gps-new-entity-place></a-entity>
    </a-scene>

    <script>
        // Function to get GPS location and place object in front of the camera
        function placeObjectInFront() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;
                    
                    // Place the object 5 meters in front of the user's current position
                    const distanceInMeters = 3;
                    const newLatitude = latitude + (distanceInMeters / 111111); // Convert meters to latitude degrees
                    const newLongitude = longitude; // Assuming a small movement, longitude won't change

                    // Create a new box entity at the calculated GPS coordinates
                    const box = document.createElement('a-box');
                    box.setAttribute('gps-entity-place', `latitude: ${newLatitude}; longitude: ${newLongitude}`);
                    box.setAttribute('color', '#4CC3D9');
                    box.setAttribute('scale', '1 1 1');
                    box.setAttribute('position', '0 0.5 0');
                    box.setAttribute('rotation', '0 45 0');

                    // Append the object to the scene
                    document.querySelector('a-scene').appendChild(box);
                });
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        // Call the function to place the object when the page is loaded
        window.onload = placeObjectInFront;
    </script>
</body>
</html>
